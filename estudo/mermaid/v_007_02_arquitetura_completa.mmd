graph TB
    subgraph "Camada de ApresentaÃ§Ã£o (MVC - View)"
        WebApp[ğŸ–¥ï¸ Web Application<br/>Angular SPA]
        MobileApp[ğŸ“± Mobile App<br/>React Native]
        AdminPortal[ğŸ‘¨â€ğŸ’¼ Admin Portal<br/>Vue.js]
    end
    
    subgraph "Camada de Controle (MVC - Controller)"
        APIGateway[ğŸŒ API Gateway<br/>Azure APIM]
        LoadBalancer[âš–ï¸ Load Balancer<br/>Azure Front Door]
    end
    
    subgraph "Camada de LÃ³gica de NegÃ³cio (MVC - Model)"
        subgraph "MicroserviÃ§os Core"
            ConfigService[âš™ï¸ Configuration Service<br/>Event Sourcing + CQRS]
            WorkflowService[ğŸ”„ Workflow Service<br/>State Machine Pattern]
            AuthService[ğŸ” Authentication Service<br/>OAuth 2.0 + JWT]
            AuditService[ğŸ“‹ Audit Service<br/>Event Store Pattern]
        end
        
        subgraph "ServiÃ§os de Qualidade (Pressman 2016)"
            QualityMetrics[ğŸ“Š Quality Metrics Service<br/>ISO/IEC 25010]
            RiskAnalysis[âš ï¸ Risk Analysis Engine<br/>FMEA + Monte Carlo]
            SecurityScanner[ğŸ›¡ï¸ Security Scanner<br/>OWASP + SAST]
        end
    end
    
    subgraph "Camada de Dados (Repository Pattern - Gallotti 2021)"
        subgraph "RepositÃ³rios"
            ConfigRepo[(ğŸ—ƒï¸ Config Repository<br/>Azure Cosmos DB)]
            AuditRepo[(ğŸ“ Audit Repository<br/>Azure SQL Database)]
            MetricsRepo[(ğŸ“ˆ Metrics Repository<br/>Azure Data Explorer)]
        end
        
        subgraph "Cache HierÃ¡rquico"
            RedisCache[(âš¡ Redis Cache<br/>L1 - Application)]
            CDNCache[(ğŸŒ CDN Cache<br/>L2 - Geographic)]
        end
    end
    
    subgraph "Camada de Infraestrutura (DevOps - Monteiro 2021)"
        subgraph "Container Orchestration"
            AKS[â˜¸ï¸ Azure Kubernetes Service<br/>Auto-scaling + Health Checks]
            ServiceMesh[ğŸ•¸ï¸ Istio Service Mesh<br/>Traffic Management]
        end
        
        subgraph "CI/CD Pipeline"
            AzureDevOps[ğŸš€ Azure DevOps<br/>Blue-Green Deployment]
            GitOps[ğŸ“¦ GitOps<br/>Infrastructure as Code]
        end
        
        subgraph "Monitoring & Observability"
            AppInsights[ğŸ“Š Application Insights<br/>APM + Distributed Tracing]
            LogAnalytics[ğŸ“‹ Log Analytics<br/>Centralized Logging]
        end
    end
    
    subgraph "Sistemas Externos"
        BCB[ğŸ›ï¸ Banco Central do Brasil<br/>Regulatory Compliance]
        LegacySystems[ğŸ›ï¸ Legacy Banking Systems<br/>COBOL + Mainframe]
    end
    
    %% Fluxos de Dados (Pipe-and-Filter Pattern)
    WebApp --> APIGateway
    MobileApp --> APIGateway
    AdminPortal --> APIGateway
    
    APIGateway --> LoadBalancer
    LoadBalancer --> AuthService
    LoadBalancer --> ConfigService
    LoadBalancer --> WorkflowService
    
    ConfigService --> QualityMetrics
    ConfigService --> RiskAnalysis
    WorkflowService --> AuditService
    AuthService --> SecurityScanner
    
    ConfigService --> ConfigRepo
    AuditService --> AuditRepo
    QualityMetrics --> MetricsRepo
    
    ConfigService --> RedisCache
    APIGateway --> CDNCache
    
    AKS --> ConfigService
    AKS --> WorkflowService
    AKS --> AuthService
    AKS --> AuditService
    
    ServiceMesh --> AKS
    AzureDevOps --> AKS
    GitOps --> AzureDevOps
    
    AppInsights --> ConfigService
    AppInsights --> WorkflowService
    LogAnalytics --> AuditService
    
    AuditService --> BCB
    ConfigService --> LegacySystems
    
    %% Estilos dos Componentes
    classDef presentation fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef control fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef business fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef data fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef infrastructure fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef external fill:#f5f5f5,stroke:#424242,stroke-width:2px
    classDef quality fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    
    class WebApp,MobileApp,AdminPortal presentation
    class APIGateway,LoadBalancer control
    class ConfigService,WorkflowService,AuthService,AuditService business
    class ConfigRepo,AuditRepo,MetricsRepo,RedisCache,CDNCache data
    class AKS,ServiceMesh,AzureDevOps,GitOps,AppInsights,LogAnalytics infrastructure
    class BCB,LegacySystems external
    class QualityMetrics,RiskAnalysis,SecurityScanner quality
